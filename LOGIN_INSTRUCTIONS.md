# AI助手使用说明

## 重要：必须先登录！

### 问题分析
你看到的500错误实际上是因为**用户未登录**导致的。系统要求用户必须先登录才能访问AI助手功能。

### 正确使用方法

1. **首先访问登录页面**
   - 打开浏览器访问：`http://localhost:5176/login`
   - 输入用户名和密码登录

2. **登录成功后访问AI助手**
   - 登录成功后会自动跳转到仪表板
   - 然后点击导航栏的"AI助手"，或直接访问：`http://localhost:5176/ai-assistant`

3. **验证登录状态**
   - 你可以打开浏览器开发者工具（F12）
   - 查看Console标签页，应该看到认证成功的日志

### 快速测试

你可以使用以下测试账号：
- **用户名**: testuser
- **密码**: testpass123

### 调试方法

1. **检查localStorage**
   - 在浏览器中按F12打开开发者工具
   - 进入Application（应用）标签页
   - 查看Local Storage中的`authToken`和`currentUser`

2. **使用测试页面**
   - 打开：`http://localhost:5176/test_login.html`
   - 这个页面会显示当前的登录状态

### 常见问题

- **Q: 为什么直接访问/ai-assistant会报错？**
  A: 因为路由守卫要求用户必须先登录

- **Q: 如何知道是否登录成功？**
  A: 登录成功后浏览器会自动跳转到仪表板页面

- **Q: token是什么？**
  A: 登录成功后，系统会将用户ID作为token存储在浏览器中