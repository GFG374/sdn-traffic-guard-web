# SDN网络拓扑配置

## 项目概述
本项目是一个基于RYU控制器的SDN网络安全管理平台，集成了AI智能防御系统。采用星形拓扑，支持QoS限速和多档位流量管理。

## 项目的部署环境
本项目的RYU控制器部署在我的ubuntu中，其余的比如说数据库，ollama，等都是部署在我的windows当中

## 网络拓扑结构

### 基础拓扑
- **拓扑类型**: 星形拓扑（Star Topology）
- **交换机数量**: 1个
- **主机数量**: 8个
- **控制器**: RYU控制器（运行在 192.168.44.129:8080），是允许在我的ubuntu当中的
- **IP段**: 192.168.1.0/24

### 交换机配置
**s1** (中央交换机)
- **类型**: Open vSwitch (OVS)
- **端口数**: 8个（连接8个主机）
- **QoS支持**: 3档限速队列
  - 低速队列: 256 Kbps
  - 中速队列: 1 Mbps
  - 高速队列: 2 Mbps

### 主机配置
所有主机均在 192.168.1.0/24 子网：

1. **h1**: IP=192.168.1.100/24, MAC=00:00:00:00:00:01
2. **h2**: IP=192.168.1.101/24, MAC=00:00:00:00:00:02
3. **h3**: IP=192.168.1.102/24, MAC=00:00:00:00:00:03
4. **h4**: IP=192.168.1.103/24, MAC=00:00:00:00:00:04
5. **h5**: IP=192.168.1.104/24, MAC=00:00:00:00:00:05
6. **h6**: IP=192.168.1.105/24, MAC=00:00:00:00:00:06
7. **h7**: IP=192.168.1.200/24, MAC=00:00:00:00:00:07
8. **h8**: IP=192.168.1.108/24, MAC=00:00:00:00:00:08

### 网络连接
- 所有主机直接连接到中央交换机s1
- 形成星形拓扑，s1为中心节点
- 任意两个主机间通信只需经过s1（1跳）

## 网络特性
- **拓扑类型**: 星形（所有流量都经过中央交换机）
- **网络直径**: 1跳（任意两个主机间直接通过s1通信）
- **单点故障**: s1是单点故障点（如果s1故障，整个网络中断）
- **带宽**: 每条主机链路最大100Mbps
- **延迟**: 主机到交换机延迟 < 1ms

## 控制器配置
- **控制器类型**: RYU OpenFlow控制器
- **监听地址**: 192.168.44.129
- **监听端口**: 8080
- **OpenFlow版本**: 1.3
- **交换机类型**: Open vSwitch (OVS)

## QoS限速配置

### 限速档位
系统支持3档QoS限速，通过Linux tc和OVS配置：

1. **低速档** (Queue 1)
   - 限速: 256 Kbps
   - 用途: 严重攻击，仅允许基本通信
   - 场景: DDoS攻击、恶意IP

2. **中速档** (Queue 2)
   - 限速: 1 Mbps
   - 用途: 中等攻击，保留部分服务可用性
   - 场景: 异常流量、可疑行为

3. **高速档** (Queue 3)
   - 限速: 2 Mbps
   - 用途: 轻微异常，基本保持正常服务
   - 场景: 轻微异常、警告级别

### QoS实现方式
- **Linux tc (Traffic Control)**: 基于HTB（Hierarchical Token Bucket）算法
- **OVS队列**: 通过OpenFlow队列实现细粒度流量控制
- **应用范围**: 每个主机连接端口独立配置

## 拓扑可视化
```
        h1 (192.168.1.100)
        h2 (192.168.1.101)
        h3 (192.168.1.102)
        h4 (192.168.1.103)
        h5 (192.168.1.104)
        h6 (192.168.1.105)
        h7 (192.168.1.200)
        h8 (192.168.1.108)
        |   |   |   |   |   |   |   |
        +---+---+---+---+---+---+---+
                    |
                   s1 (中央交换机)
```



